<div class="col-md-12 col-sm-12 container">
    <h3 class="reporth1 row" translate="Alerts"></h3>
    <ul class="list-unstyled">
        <li ng-if="vm.device.alarms.length === 0" translate="There are no current alerts"></li>
        <li ng-if="vm.device.alarms.length !== 0" ng-repeat="a in vm.device.alarms">
            <div ng-if="a.message.length === 0">{{a.status | translate}}</div>
            <div ng-if="a.message.length !== 0">{{a.status | translate}}  --  {{a.message|translate}}</div>
        </li>
    </ul>
</div>
<div ng-if="vm.device.isCollectorEnabled(ECollectorType.Memory)" class="col-md-12 col-sm-12 container">
    <h3 class="reporth1 row" translate="Memory"></h3>
    <h5 class="reportsubhead row" ng-if="!vm.report.memory" translate="There is no memory data" />
    <div class="row" ng-if="vm.report.memory">
        <cm-data-block class="col-md-1 col-sm-6" heading="{{'Current'|translate}}" line1="{{vm.report.memory.currentPercentUsed}} %"></cm-data-block>
        <cm-data-block class="col-md-2 col-sm-6" heading="{{'Maximum'|translate}}" line1="{{vm.report.memory.peakPercentUsed}} %"
                       line2="{{vm.report.memory.peakTimestamp | commonDate}}"></cm-data-block>
    </div>
    <!-- <p class="reportp row" ng-if="vm.report.memory">{{"Current Memory Usage" | translate}}: {{vm.report.memory.currentPercentUsed}} %</p>
    <p class="reportp row" ng-if="vm.report.memory">{{"Max Memory Spike" | translate}}: {{vm.report.memory.peakPercentUsed}} % - {{vm.report.memory.peakTimestamp | commonDate}}</p> -->
</div>
<br />
<div ng-if="vm.device.isCollectorEnabled(ECollectorType.Disk)" class="col-md-12 col-sm-12 container">
    <h3 class="reporth1 row" translate="Disks"></h3>
    <h5 class="reportsubhead row" ng-if="!vm.report.disks || vm.report.disks.disks.length === 0" translate="There are no disk reports"></h5>
    <div ng-repeat="disk in vm.report.disks.disks">
        <div class="row">
            <h5 class="col-md-1 col-sm-1">{{disk.name}}</h5>
            <cm-data-block class="col-md-1 col-sm-5" heading="{{'Current'|translate}}" line1="{{disk.currentPercentUsed}} %"></cm-data-block>
            <cm-data-block class="col-md-2 col-sm-5" heading="{{'Maximum'|translate}}" line1="{{disk.peakPercentUsed}} %"
                           line2="{{disk.peakTimestamp|commonDate}}"></cm-data-block>
        </div>
    </div>

    <!-- <table ng-if="vm.report.disks && vm.report.disks.disks.length !== 0" class="table table-super-condensed table-nonfluid table-responsive row">
        <thead>
            <tr>
                <th class="reportp">
                    <b>{{"Drive" | translate}}</b>
                </th>
                <th class="reportp">
                    <b>{{"Current Usage" | translate}}</b>
                </th>
                <th class="reportp">
                    <b>{{"Max Usage" | translate}}</b>
                </th>
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat="disk in vm.report.disks.disks">
                <td class="reportp">{{disk.name}}</td>
                <td class="reportp">{{disk.currentPercentUsed}} %</td>
                <td class="reportp">{{disk.peakPercentUsed}} % -- {{disk.peakTimestamp | commonDate}}</td>
            </tr>
        </tbody>
    </table> -->
</div>
<br />
<div ng-if="vm.device.isCollectorEnabled(ECollectorType.CPUUsage)" class="col-md-12 col-sm-12 container">
    <h3 class="reporth1 row" translate="CPU"></h3>
    <h5 class="reportsubhead row" ng-if="!vm.report.cpu" translate="There is no CPU data"></h5>
    <div class="row" ng-if="vm.report.cpu">
        <cm-data-block class="col-md-1 col-sm-6" heading="{{'Current'|translate}}" line1="{{vm.report.cpu.currentPercentUsed}} %"></cm-data-block>
        <cm-data-block class="col-md-2 col-sm-6" heading="{{'Maximum'|translate}}" line1="{{vm.report.cpu.peakPercentUsed}} %"
                       line2="{{vm.report.cpu.peakTimestamp | commonDate}}"></cm-data-block>
    </div>
    <!-- <p class="reportp row" ng-if="vm.report.cpu">{{"Current CPU Usage" | translate}}:
        {{vm.report.cpu.currentPercentUsed}} %</p>
    <p class="reportp row" ng-if="vm.report.cpu">{{"Max CPU Spike" | translate}}: {{vm.report.cpu.peakPercentUsed}} % -
        {{vm.report.cpu.peakTimestamp | commonDate}}</p> -->
</div>
<br />
<div ng-if="vm.device.isCollectorEnabled(ECollectorType.NICUsage)" class="col-md-12 col-sm-12 container">
    <h3 class="reporth1 row" translate="Network Interface"></h3>
    <h5 class="reportsubhead row" ng-if="!vm.report.nic" translate="There is no NIC data"></h5>
    <div class="row" ng-if="vm.report.nic">
        <cm-data-block class="col-md-1 col-sm-6" heading="{{'Current'|translate}}" line1="{{vm.report.nic.currentPercentUsed}} %"></cm-data-block>
        <cm-data-block class="col-md-2 col-sm-6" heading="{{'Maximum'|translate}}" line1="{{vm.report.nic.peakPercentUsed}} %"
                       line2="{{vm.report.nic.peakTimestamp | commonDate}}"></cm-data-block>
    </div>

    <!-- <p class="reportp row" ng-if="vm.report.nic">
        {{"Current Network Interface Usage" | translate}} - {{vm.report.nic.bps}} {{"Bytes Per Second" | translate}}:
        {{vm.report.nic.currentPercentUsed}} %
    </p>
    <p class="reportp row" ng-if="vm.report.nic">
        {{"Max Network Interface Usage Spike" | translate}} - {{vm.report.nic.peakBps}} {{"Bytes Per Second" |
        translate}}:
        {{vm.report.nic.peakPercentUsed}} % - {{vm.report.nic.peakTimestamp | commonDate}}
    </p> -->
</div>
<br />
<div ng-if="vm.device.isCollectorEnabled(ECollectorType.SystemErrors)" class="col-md-12 col-sm-12 container">
    <h3 class="reporth1 row" translate="System Error Messages"></h3>
    <h5 class="reportsubhead row" ng-if="!vm.report.machine.systemErrors || vm.report.machine.systemErrors.errors.length === 0"
        translate="No system error messages have been recorded"></h5>
    <table ng-if="vm.report.machine.systemErrors && vm.report.machine.systemErrors.errors.length !== 0" class="table table-super-condensed table-nonfluid table-responsive row">
        <thead>
            <tr>
                <th class="reportp"> <b>{{"Message" | translate}}</b> </th>
                <th class="reportp"> <b>{{"Count" | translate}}</b> </th>
                <th class="reportp"> <b>{{"Time" | translate}}</b> </th>
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat="errorData in vm.report.machine.systemErrors.errors | limitTo: 20">
                <td class="reportp">{{errorData.message}}</td>
                <td ng-if="errorData.count === 1"></td>
                <td ng-if="errorData.count !== 1" class="reportp">{{errorData.count}}</td>
                <td ng-if="errorData.count === 1" class="text-nowrap reportp">{{errorData.timestamp | commonDate}}</td>
                <td ng-if="errorData.count !== 1" class="text-nowrap reportp">
                    {{errorData.firstTimestamp | commonDate}} --
                    {{errorData.lastTimestamp | commonDate}}
                </td>
            </tr>
        </tbody>
    </table>
    <h4 ng-if="vm.report.machine.systemErrors && vm.report.machine.systemErrors.errors.length > 20">{{"Showing the top 20 errors"|translate}}</h4>
</div>
<br />
<div ng-if="vm.device.isCollectorEnabled(ECollectorType.ApplicationErrors)" class="col-md-12 col-sm-12 container">
    <h3 class="reporth1 row" translate="Application Error Messages"></h3>
    <h5 class="reportsubhead row" ng-if="!vm.report.machine.applicationErrors || vm.report.machine.applicationErrors.errors.length === 0"
        translate="No application error messages have been recorded"></h5>
    <table ng-if="vm.report.machine.applicationErrors && vm.report.machine.applicationErrors.errors.length !== 0" class="table table-super-condensed table-nonfluid table-responsive row">
        <thead>
            <tr>
                <th class="reportp"> <b>{{"Message" | translate}}</b> </th>
                <th class="reportp"> <b>{{"Count" | translate}}</b> </th>
                <th class="reportp"> <b>{{"Time" | translate}}</b> </th>
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat="errorData in vm.report.machine.applicationErrors.errors | limitTo: 20">
                <td class="reportp">{{errorData.message}}</td>
                <td ng-if="errorData.count === 1"></td>
                <td ng-if="errorData.count !== 1" class="reportp">{{errorData.count}}</td>
                <td ng-if="errorData.count === 1" class="text-nowrap">{{errorData.timestamp | commonDate}}</td>
                <td ng-if="errorData.count !== 1" class="text-nowrap reportp">
                    {{errorData.firstTimestamp | commonDate}} --
                    {{errorData.lastTimestamp | commonDate}}
                </td>
            </tr>
        </tbody>
    </table>
    <h4 ng-if="vm.report.machine.applicationErrors && vm.report.machine.applicationErrors.errors.length > 20">{{"Showing the top 20 errors"|translate}}</h4>
</div>
<br />
<div ng-if="vm.device.isCollectorEnabled(ECollectorType.Processes)" class="col-md-12 col-sm-12 container">
    <h3 class="reporth1 row" translate="Processes Used"></h3>
    <h5 class="reportsubhead row" ng-if="!vm.report.splitProcesses || vm.report.splitProcesses.length === 0" translate="No processes have been recorded"></h5>
    <div ng-if="vm.report.splitProcesses && vm.report.splitProcesses.length !== 0">
        <table class="table table-borderless table-super-condensed table-auto-width row">
            <tr ng-repeat="processTuple in vm.report.splitProcesses">
                <td class="reportp">{{processTuple[0]}}</td>
                <td class="reportp">{{processTuple[1]}}</td>
            </tr>
        </table>
    </div>
</div>
<br />
<div ng-if="vm.device.isCollectorEnabled(ECollectorType.Services)" class="col-md-12 col-sm-12 container">
    <h3 class="reporth1 row" translate="Running Services"></h3>
    <h5 class="reportsubhead row" ng-if="!vm.report.splitServices || vm.report.splitServices.length === 0" translate="No services have been recorded"></h5>
    <div ng-if="vm.report.splitServices && vm.report.splitServices.length !== 0">
        <table class="table table-borderless table-super-condensed table-auto-width row">
            <tr ng-repeat="servicesTuple in vm.report.splitServices">
                <td class="reportp">{{servicesTuple[0]}}</td>
                <td class="reportp">{{servicesTuple[1]}}</td>
            </tr>
        </table>
    </div>
</div>
<br />
<div ng-if="vm.device.isCollectorEnabled(ECollectorType.InstalledApplications)" class="col-md-12 col-sm-12 container">
    <!--<pre>{{vm.report.appHistory | json}}</pre>-->
    <h3 class="reporth1 row" translate="Application Changes"></h3>
    <h5 class="reportsubhead row" ng-if="!vm.report.appHistory || vm.report.appHistory.apps.length === 0" translate="No application changes have been recorded"></h5>
    <div ng-if="vm.report.appHistory && vm.report.appHistory.apps.length !== 0">
        <div ng-repeat="app in vm.report.appHistory.apps">
            <h4 class="reportp col-md-12 col-sm-12 row"> <b>{{app}}</b> </h4>
            <table class="table table-super-condensed table-nonfluid table-responsive">
                <thead>
                    <tr>
                        <th class="reportp"> <b>{{"Version" | translate}}</b> </th>
                        <th class="reportp"> <b>{{"Time" | translate}}</b> </th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="ver in vm.report.appHistory.history.history[app].history">
                        <td class="reportp" ng-if="ver.version">{{ver.version}}</td>
                        <td class="reportp" ng-if="!ver.version">{{"Removed" | translate}}</td>
                        <td class="reportp">{{ver.timestamp | commonDate}}</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
<br />
<div ng-if="vm.device.isCollectorEnabled(ECollectorType.DatabaseSize)" class="col-md-12 col-sm-12 container">
    <h3 class="reporth1 row" translate="Database Data"></h3>
    <h5 class="reportsubhead row" ng-if="!vm.report.machine.database || vm.report.machine.database.values.length === 0"
        translate="There is no database data"></h5>
    <div ng-if="vm.report.machine.database && vm.report.machine.database.values.length !== 0">
        <table class="table table-borderless table-super-condensed table-nonfluid table-responsive row">
            <thead>
                <tr>
                    <th class="reportp text-nowrap" translate="Name of Database"></th>
                    <th class="reportp text-nowrap" translate="Size in MB"></th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="d in vm.report.machine.database.values">
                    <td class="reportp text-nowrap">{{d.name}}</td>
                    <td class="reportp">{{d.size}}</td>
                </tr>
            </tbody>
        </table>
    </div>
</div>